---
layout: post
title: Customizing postbit
permalink: Help-Customizing_postbit.html
category: کمک عمومی
---

<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="{{ site.url }}/images/f/fa/Postbit.PNG" class="image"><img alt="" src="{{ site.url }}/images/thumb/f/fa/Postbit.PNG/180px-Postbit.PNG" width="180" height="47" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="{{ site.url }}/images/f/fa/Postbit.PNG" class="internal" title="Enlarge"><img src="/mediawiki/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>A postbit</div></div></div>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#MyBB_1.4.x"><span class="tocnumber">1.1</span> <span class="toctext">MyBB 1.4.x</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#MyBB_1.2.x"><span class="tocnumber">1.2</span> <span class="toctext">MyBB 1.2.x</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#Variable_Scope"><span class="tocnumber">2</span> <span class="toctext">Variable Scope</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#.24post"><span class="tocnumber">3</span> <span class="toctext">$post</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Custom_Profile_Fields"><span class="tocnumber">3.1</span> <span class="toctext">Custom Profile Fields</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#.24mybb"><span class="tocnumber">4</span> <span class="toctext">$mybb</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#.24lang"><span class="tocnumber">5</span> <span class="toctext">$lang</span></a></li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="Introduction"> Introduction </span></h1>
<h2> <span class="mw-headline" id="MyBB_1.4.x"> MyBB 1.4.x </span></h2>
<p>The <a href="{{ site.url }}/Postbit.html" title="Postbit">Postbit</a> user information is located in the following templates:
</p>
<ul><li> <b>postbit</b> - contains the basic layout of the Postbit, and some user information for the horizontal postbit
</li><li> <b>postbit_classic</b> - contains the basic layout of the vertical postbit, and some user information
</li><li> <b>postbit_author_user</b> - contains the user information shown for registered users
</li><li> <b>postbit_author_guest</b> - contains the user information shown for guest postings
</li></ul>
<p>To access these templates, go to <b>Admin CP --&gt; Templates &amp; Style --&gt; Templates --&gt; *Expand your set* --&gt; Post Bit Templates</b>
</p><p>By default, postbit and postbit_classic contain the following information related to the user:
</p>
<table>
<tr>
<th>Field
</th>
<th>Variable
</th></tr>
<tr>
<th>Username &amp; Link
</th>
<td><span style="font-family: Courier, monospace">{$post['username']}</span> - plain text<br /><span style="font-family: Courier, monospace">{$post['profilelink']}</span> - formatted username with link
</td></tr>
<tr>
<th>Online indicator
</th>
<td><span style="font-family: Courier, monospace">{$post['onlinestatus']}</span>
</td></tr>
<tr>
<th>User title
</th>
<td><span style="font-family: Courier, monospace">{$post['usertitle']}</span>
</td></tr>
<tr>
<th>User stars
</th>
<td><span style="font-family: Courier, monospace">{$post['userstars']}</span>
</td></tr>
<tr>
<th>Group image
</th>
<td><span style="font-family: Courier, monospace">{$post['groupimage']}</span>
</td></tr>
<tr>
<th>Avatar
</th>
<td><span style="font-family: Courier, monospace">{$post['useravatar']}</span>
</td></tr>
<tr>
<th>postbit_author_*
</th>
<td><span style="font-family: Courier, monospace">{$post['user_details']}</span>
</td></tr></table>
<p>The postbit_author_user template, by default, contains the following:
</p>
<table>
<tr>
<th>Field
</th>
<th>Value
</th></tr>
<tr>
<th>Post count
</th>
<td><span style="font-family: Courier, monospace">{$post['postnum']}</span>
</td></tr>
<tr>
<th>Registration date
</th>
<td><span style="font-family: Courier, monospace">{$post['userregdate']}</span>
</td></tr>
<tr>
<th>Reputation
</th>
<td><span style="font-family: Courier, monospace">{$post['replink']}</span>
</td></tr>
<tr>
<th>Warning level
</th>
<td><span style="font-family: Courier, monospace">{$post['warninglevel']}</span>
</td></tr></table>
<p><i>May be different depending on individual board modifications and plugins</i>
</p><p>See the sections on $post and $mybb below to find out what other variables can be used.
</p>
<h2> <span class="mw-headline" id="MyBB_1.2.x"> MyBB 1.2.x </span></h2>
<p>The <a href="{{ site.url }}/Postbit.html" title="Postbit">Postbit</a> user information is located in templates <b>postbit_author_guest</b> for posts made by guests and deleted users, and <b>postbit_author_user</b> for registered users.  You can edit these by going to <b>Admin CP --&gt; Templates --&gt; Modify / Delete --&gt; *expand your template set* --&gt; Postbit Templates --&gt; postbit_author_*</b>
</p><p>By default, postbit_author_user contains the following information about a user:
</p>
<table>
<tr>
<th>Field
</th>
<th>Variable
</th></tr>
<tr>
<th>Username
</th>
<td><span style="font-family: Courier, monospace">{$post['username']}</span> - plain text<br /><span style="font-family: Courier, monospace">{$post['profilelink']}</span> - formatted username with link
</td></tr>
<tr>
<th>User title
</th>
<td><span style="font-family: Courier, monospace">{$post['usertitle']}</span>
</td></tr>
<tr>
<th>Stars
</th>
<td><span style="font-family: Courier, monospace">{$post['userstars']}</span>
</td></tr>
<tr>
<th>Group Image
</th>
<td><span style="font-family: Courier, monospace">{$post['groupimage']}</span>
</td></tr>
<tr>
<th>Avatar
</th>
<td><span style="font-family: Courier, monospace">{$post['useravatar']}</span> - HTML<br /><span style="font-family: Courier, monospace">{$post['avatar']}</span> - URL
</td></tr>
<tr>
<th>Post count
</th>
<td><span style="font-family: Courier, monospace">{$post['postnum']}</span>
</td></tr>
<tr>
<th>Usergroup
</th>
<td><span style="font-family: Courier, monospace">{$usergroup['title']}</span> - primary usergroup name
</td></tr>
<tr>
<th>Join date
</th>
<td><span style="font-family: Courier, monospace">{$post['userregdate']}</span>
</td></tr>
<tr>
<th>Online status
</th>
<td><span style="font-family: Courier, monospace">{$post['onlinestatus']}</span>
</td></tr>
<tr>
<th>Reputation
</th>
<td><span style="font-family: Courier, monospace">{$post['replink']}</span> - displays entire reputation bit
</td></tr></table>
<p><i>May be different depending on individual board modifications and plugins</i>
</p>
<h1> <span class="mw-headline" id="Variable_Scope"> Variable Scope </span></h1>
<p>Any variables in $post, $mybb, and $lang can be used in any of the postbit* templates.
</p>
<h1> <span class="mw-headline" id=".24post"> $post </span></h1>
<p>$post contains information about the author of the post, as well as the post itself.  See <a href="Database_Tables-mybb_users" title="Database_Tables: mybb_users">mybb_users</a> and <a href="Database_Tables-mybb_posts" title="Database_Tables: mybb_posts">mybb_posts</a> for a listing of possible fields you can display.  For example, if you want to show the user's timezone, you would add the following code to the postbit_author_user template:
</p>
<pre>
Timezone: {$post['timezone']}
</pre>
<h2> <span class="mw-headline" id="Custom_Profile_Fields"> Custom Profile Fields </span></h2>
<p>Custom profile fields can also be accessed and displayed through {$post}.  The format is <span style="font-weight: bold; font-family: Courier, monospace">{$post['fid<u>X</u>']}</span> where X is the ID of the custom profile field.  You can find this ID in <b>Admin CP --&gt; Configuration --&gt; Custom Profile Fields</b> (or for MyBB 1.2.x, <b>Admin CP --&gt; Users &amp; Groups --&gt; Custom Profile Fields</b>).
</p><p>The default custom profile fields can be accessed as follows:
</p>
<table>
<tr>
<th>Field
</th>
<th>Variable
</th></tr>
<tr>
<th>Location
</th>
<td><span style="font-family: Courier, monospace">{$post['fid1']}</span>
</td></tr>
<tr>
<th>Sex
</th>
<td><span style="font-family: Courier, monospace">{$post['fid2']}</span>
</td></tr>
<tr>
<th>Bio
</th>
<td><span style="font-family: Courier, monospace">{$post['fid3']}</span>
</td></tr></table>
<p>Please note that <b>HTML is not escaped by default</b> for custom profile fields!  That is, if users enter HTML into the custom profile field, <i>the HTML will be displayed as is, and <b>parsed</b> by the browser</i>.  To escape HTML from the custom profile field, please make the following modification to inc/functions_post.php:
</p><p>Find:
</p>
<pre>
eval(&quot;\$post['user_details'] = \&quot;&quot;.$templates-&gt;get(&quot;postbit_author_user&quot;).&quot;\&quot;;&quot;);
</pre>
<p>Before that line, add:
</p>
<pre>
$post['fidX'] = htmlspecialchars_uni($post['fidX']);
</pre>
<p>Remember to replace the X with the ID of the custom profile field that you want to display.
</p>
<h1> <span class="mw-headline" id=".24mybb"> $mybb </span></h1>
<p>You can use any $mybb-&gt;user variable just like $post, except that the information will be retrieved from the current user's profile.
You can also show information from $mybb-&gt;settings.
</p>
<h1> <span class="mw-headline" id=".24lang"> $lang </span></h1>
<p>You can use any loaded language variables in $lang in the postbit.
</p>



