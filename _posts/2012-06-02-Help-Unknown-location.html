---
layout: post
title: Unknown location
permalink: Help-Unknown_location.html
category: کمک عمومی
---

<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Users_appearing_in_an_.22unknown_location.22"><span class="tocnumber">1</span> <span class="toctext">Users appearing in an "unknown location"</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#The_problem"><span class="tocnumber">1.1</span> <span class="toctext">The problem</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#The_solution"><span class="tocnumber">1.2</span> <span class="toctext">The solution</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Further_reading"><span class="tocnumber">1.3</span> <span class="toctext">Further reading</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="Users_appearing_in_an_.22unknown_location.22">Users appearing in an "unknown location"</span></h1>
<h2> <span class="mw-headline" id="The_problem">The problem</span></h2>
<p>A number of users have reported that some of their forum users  are being listed as in an "unknown location" on their <a href="{{ site.url }}/Who_Is_Online.html" title="Who Is Online"> Who's online</a> list.
</p>
<h2> <span class="mw-headline" id="The_solution">The solution</span></h2>
<p>It has been determined that this is caused by a bug in some versions of the MultiByte PHP extension, more specifically in the my_substr function.
</p><p>The bug has been fixed in the latest version of the MultiByte so to solve this issue permanently you can simply ask your host to upgrade to the latest version of the extension.
</p><p>If your host is not able to upgrade MyltiByte or if you wish to fix the problem temporarily you can simply open your ./inc/functions_online.php file and find:
</p>
<pre>
$filename = my_substr($split_loc[0], -my_strpos(strrev($split_loc[0]), &quot;/&quot;)); 
</pre>
<p>and replace it with:
</p>
<pre>
$filename = substr($split_loc[0], -my_strpos(strrev($split_loc[0]), &quot;/&quot;)); 
</pre>
<p>Please note, the temporary patch <b>will not</b> be applied to the official MyBB download or considered a bug in MyBB or fixed in any future maintenance release. It is a bug in the MultiByte PHP extension. We strongly encourage our users to keep their servers up-to-date, or otherwise encourage their hosts to keep their servers up-to-date.
</p>
<h2> <span class="mw-headline" id="Further_reading">Further reading</span></h2>
<ul><li><a rel="nofollow" class="external text" href="http://community.mybb.com/thread-48649-post-342276.html#pid342276">Post by Ryan Gordon containing the above fix.</a>
</li><li><a rel="nofollow" class="external text" href="http://community.mybb.com/thread-48649-post-342276.html">MyBB general support section sticky on the problem.</a>
</li><li><a rel="nofollow" class="external text" href="http://community.mybb.com/thread-48520.html">The largest support thread dealing with the issue.</a>
</li></ul>




